import pkg from "../package.json" with { type: "json" };
import { BOT_NAME } from "./config.js";
import { getPrefix } from "./utils/database.js";
import { readMore } from "./utils/index.js";

export function menuMessage(groupJid, type = 'principal') {
  const date = new Date();
  const prefix = getPrefix(groupJid);
  const uptime = process.uptime();

  const formatUptime = (seconds) => {
    const h = Math.floor(seconds / 3600);
    const m = Math.floor((seconds % 3600) / 60);
    return `${h}h ${m}m`;
  };

  // --- MENU ADMINISTRATIVO ---
  if (type === 'adm') {
    return `
  â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
      ğŒğŸ•ğ³ğ¢ğ§ğ—ğ± ğ€ğƒğŒğˆğ
  â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
  â—ˆ ğš‚ğšğšŠğšğšğšœ: Painel Admin
  â—ˆ ğ™¿ğš›ğšğšğš’ğš¡ğš˜: [ ${prefix} ]

  â•­â”€ã€” ğŸ‘® ğ€ğƒğŒğˆğğ’ ã€•â”€âŠ·
  â” âŒ¬ ${prefix}abrir | ${prefix}fechar
  â” âŒ¬ ${prefix}ban | ${prefix}hidetag
  â” âŒ¬ ${prefix}mute | ${prefix}unmute
  â” âŒ¬ ${prefix}promover | ${prefix}rebaixar
  â” âŒ¬ ${prefix}welcome | ${prefix}anti-link
  â” âŒ¬ ${prefix}anti-audio | ${prefix}limpar
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼
  
  ã€ âš¡ ğŒğŸ•ğ³ğ¢ğ§ğ—ğ± ğ’ğ²ğ¬ğ­ğğ¦ ã€`.trim();
  }

  // --- MENU DOWNLOADS ---
  if (type === 'downloads') {
    return `
  â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
     ğŒğŸ•ğ³ğ¢ğ§ğ—ğ± ğƒğğ–ğğ‹ğğ€ğƒ
  â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
  
  â•­â”€ã€” ğŸ“¥ ğƒğğ–ğğ‹ğğ€ğƒğ’ ã€•â”€âŠ·
  â” âŒ¬ ${prefix}instagram
  â” âŒ¬ ${prefix}tik-tok
  â” âŒ¬ ${prefix}play-audio
  â” âŒ¬ ${prefix}play-video
  â” âŒ¬ ${prefix}yt-mp3 | ${prefix}yt-mp4
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼`.trim();
  }

  // --- MENU PRINCIPAL (Geral) ---
  return `
  â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
       ğŒğŸ•ğ³ğ¢ğ§ğ—ğ± ğğğ“ 
  â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
  â—ˆ ğš„ğš™ğšğš’ğš–ğš: ${formatUptime(uptime)}
  â—ˆ ğ™³ğšŠğšğšŠ: ${date.toLocaleDateString("pt-br")}
  â—ˆ ğ™¿ğš›ğšğšğš’ğš¡: [ ${prefix} ]

  â”Œâ”€ã€” ğŸ“‚ ğ‚ğ€ğ“ğ„ğ†ğğ‘ğˆğ€ğ’ ã€•â”€â”
  â”†
  â”† âŒ¬ ${prefix}menuadm (Admins)
  â”† âŒ¬ ${prefix}menudown (Downloads)
  â”† âŒ¬ ${prefix}menuia (I.A)
  â”† âŒ¬ ${prefix}menudiversao (Lazer)
  â”†
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼ ğŸŒ‘

  ã€ âš¡ ğŒğŸ•ğ³ğ¢ğ§ğ—ğ± ğ’ğ²ğ¬ğ­ğğ¦ ã€`.trim();
}
