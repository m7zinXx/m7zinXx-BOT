sequenceDiagram
    autonumber
    participant Admin as ğŸ‘® Admin
    participant Bot as ğŸ¤– Takeshi Bot
    participant User as ğŸ‘¤ Novo Membro

    Note over Admin,User: ğŸš€ QUANDO ALGUÃ‰M ENTRA OU SAI DO GRUPO

    %% ========== ALGUÃ‰M ENTRA ==========
    rect rgb(230, 240, 255)
        Note over Admin,User: âœ… AlguÃ©m entra no grupo
        
        Admin->>Bot: Adiciona @JoÃ£o ao grupo
        Bot->>Bot: Detecta que alguÃ©m entrou
        
        Bot->>Bot: Boas-vindas estÃ¡ ativada?<br/>(comando: /welcome on)
        
        alt Boas-vindas ativada
            Bot->>Bot: Pega mensagem de boas-vindas
            Note over Bot: Substitui:<br/>{nome} â†’ JoÃ£o<br/>{grupo} â†’ Nome do grupo
            Bot->>User: ğŸ‘‹ "Bem-vindo JoÃ£o ao grupo XYZ!"
            Note over User: âœ… Novo membro recebe mensagem
        else Boas-vindas desativada
            Note over Bot: â„¹ï¸ NÃ£o faz nada
        end
    end

    %% ========== ALGUÃ‰M SAI ==========
    rect rgb(240, 255, 240)
        Note over Admin,User: âŒ AlguÃ©m sai do grupo
        
        Admin->>Bot: Remove @Maria do grupo
        Bot->>Bot: Detecta que alguÃ©m saiu
        
        Bot->>Bot: Mensagem de saÃ­da estÃ¡ ativada?<br/>(comando: /exit on)
        
        alt Mensagem de saÃ­da ativada
            Bot->>Bot: Pega mensagem de despedida
            Note over Bot: Substitui:<br/>{nome} â†’ Maria<br/>{grupo} â†’ Nome do grupo
            Bot->>Admin: ğŸ‘‹ "Maria saiu do grupo XYZ"
            Note over Admin: âœ… Grupo recebe notificaÃ§Ã£o
        else Mensagem de saÃ­da desativada
            Note over Bot: â„¹ï¸ NÃ£o faz nada
        end
        
        Bot->>Bot: Limpa dados de Maria<br/>(se ela estava mutada, etc)
    end

    %% ========== RESUMO ==========
    rect rgb(255, 255, 230)
        Note over Admin,User: ğŸ“ RESUMO SIMPLES
        Note over Admin,User: 1ï¸âƒ£ AlguÃ©m entra ou sai do grupo<br/>2ï¸âƒ£ Bot detecta automaticamente<br/>3ï¸âƒ£ Se configurado, envia mensagem personalizada<br/>4ï¸âƒ£ Limpa dados de quem saiu<br/><br/>ğŸ’¡ ATIVAR: /welcome on ou /exit on<br/>ğŸ’¡ DESATIVAR: /welcome off ou /exit off
    end
