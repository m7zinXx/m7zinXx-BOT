sequenceDiagram
    autonumber
    participant User as ğŸ‘¤ UsuÃ¡rio
    participant Bot as ğŸ¤– Takeshi Bot
    participant Cmd as ğŸ“‚ Arquivo do Comando

    Note over User,Cmd: ğŸš€ QUANDO VOCÃŠ MANDA UM COMANDO

    %% ========== USUÃRIO ENVIA ==========
    rect rgb(230, 240, 255)
        Note over User,Bot: 1ï¸âƒ£ UsuÃ¡rio envia comando
        User->>Bot: /menu
        Note over Bot: Bot recebe a mensagem
    end

    %% ========== BOT PROCESSA ==========
    rect rgb(240, 255, 240)
        Note over Bot: 2ï¸âƒ£ Bot verifica e procura o comando
        
        Bot->>Bot: Verifica se o grupo estÃ¡ ativo
        Bot->>Bot: Verifica se o prefixo estÃ¡ correto (/)
        Bot->>Bot: Procura o comando "menu"
        
        Note over Bot: Busca em:<br/>ğŸ“ src/commands/owner/<br/>ğŸ“ src/commands/admin/<br/>ğŸ“ src/commands/member/
        
        Bot->>Bot: âœ… Encontrou: member/menu.js
        Bot->>Bot: Verifica se vocÃª tem permissÃ£o
        
        Note over Bot: PermissÃ£o baseada na pasta:<br/>â€¢ owner/ = sÃ³ dono do bot<br/>â€¢ admin/ = admins do grupo<br/>â€¢ member/ = qualquer um
    end

    %% ========== COMANDO EXECUTA ==========
    rect rgb(255, 250, 230)
        Note over Bot,Cmd: 3ï¸âƒ£ Executa o arquivo do comando
        
        Bot->>Cmd: Chama menu.js
        
        Note over Cmd: O arquivo menu.js recebe tudo pronto:<br/>â€¢ sendReply (enviar resposta)<br/>â€¢ sendImage (enviar imagem)<br/>â€¢ args (argumentos do comando)<br/>â€¢ e mais 50+ funÃ§Ãµes prontas!
        
        Cmd->>Cmd: LÃ³gica do comando menu:
        Note over Cmd: 1. Carrega imagem do menu<br/>2. Monta o texto com comandos<br/>3. Envia imagem + texto
        
        Cmd->>Bot: sendImageFromFile(imagem, texto)
    end

    %% ========== RESPOSTA ==========
    rect rgb(230, 255, 230)
        Note over Bot,User: 4ï¸âƒ£ Bot responde
        Bot->>User: ğŸ“± Envia o menu
        Note over User: âœ… VocÃª recebe a resposta!
    end

    %% ========== RESUMO ==========
    rect rgb(255, 255, 230)
        Note over User,Cmd: ğŸ“ RESUMO SIMPLES
        Note over User,Cmd: 1ï¸âƒ£ VocÃª envia: /menu<br/>2ï¸âƒ£ Bot procura o arquivo menu.js nas pastas de comando<br/>3ï¸âƒ£ Bot verifica se vocÃª pode usar (permissÃ£o)<br/>4ï¸âƒ£ Arquivo menu.js executa e usa funÃ§Ãµes prontas<br/>5ï¸âƒ£ VocÃª recebe a resposta<br/><br/>ğŸ’¡ DICA: Cada comando Ã© um arquivo separado!<br/>NÃ£o existe "switch/case" gigante
